<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ramadan Calendar - 2025</title>
    <!-- Font Awesome for Icons -->
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Dancing+Script:wght@700&display=swap" rel="stylesheet">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-KyZXEJXQG4t6f5y9h4M5qXVRb6FQKTq2P3d6d8gGmEJwWlWlXqxM2hTZpxx4w7ZW" crossorigin="anonymous">
    <link href="style.css" rel="stylesheet">

    <!-- Google tag (gtag.js) -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-PRLW4G299F"></script>
    <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'G-PRLW4G299F');
    </script>
</head>
<body>
    <div class="section">
        <div class="container">
            <div class="islamic-calligraphy">
                <div class="top-left-text">
                    <a href="https://khorshed31.github.io/about_me/" target="_blank">Khorshed Alom</a>
                </div><br><br>
                <span>╪и┘Р╪│┘Т┘Е┘Р ┘▒┘Д┘Д┘С┘О┘З┘Р ┘▒┘Д╪▒┘С┘О╪н┘Т┘Е┘О┘░┘Ж┘Р ┘▒┘Д╪▒┘С┘О╪н┘Р┘К┘Е┘Р (Bismillah ir-Rahman ir-Rahim)</span>
                <span>╪▒┘Е╪╢╪з┘Ж ┘Г╪▒┘К┘Е (Ramadan Kareem)</span>
            </div>

            <div class="row" style="margin: 0px 40px 0px 40px;">
                <div class="col-6">
                    <div class="">
                        <h2 class="animated_txt">Select Your District:</h2>
                        <select id="district" onchange="updateTimes()">
                            <option value="0">ржврж╛ржХрж╛</option>
                            <option value="1">ржорж╛ржжрж╛рж░рзАржкрзБрж░, ржмрж░рж┐рж╢рж╛рж▓, рж╢рж░рзАржпрж╝рждржкрзБрж░, ржЯрж╛ржЩрзНржЧрж╛ржЗрж▓, ржЬрж╛ржорж╛рж▓ржкрзБрж░, ржХрзБржбрж╝рж┐ржЧрзНрж░рж╛ржо, ржорж╛ржирж┐ржХржЧржЮрзНржЬ</option>
                            <option value="2">ржлрж░рж┐ржжржкрзБрж░, ржЭрж╛рж▓ржХрж╛ржарж┐, рж╕рж┐рж░рж╛ржЬржЧржЮрзНржЬ, ржкржЯрзБржпрж╝рж╛ржЦрж╛рж▓рзА, рж╢рзЗрж░ржкрзБрж░, ржмрж╛ржЧрзЗрж░рж╣рж╛ржЯ</option>
                            <option value="3">ржкрж┐рж░рзЛржЬржкрзБрж░, ржмржЧрзБржбрж╝рж╛, ржЧрзЛржкрж╛рж▓ржЧржЮрзНржЬ, ржмрж░ржЧрзБржирж╛, ржЦрзБрж▓ржирж╛, ржирзЬрж╛ржЗрж▓, ржЧрж╛ржЗржмрж╛ржирзНржзрж╛</option>
                            <option value="4">ржорж╛ржЧрзБрж░рж╛, рж░рж╛ржЬржмрж╛рзЬрзА, рж░ржВржкрзБрж░, ржмржЧрзБрзЬрж╛, ржХрзБрзЬрж┐ржЧрзНрж░рж╛ржо </option>
                            <option value="5">ржХрзБрж╖рзНржЯрж┐ржпрж╝рж╛, ржпрж╢рзЛрж░, ржЭрж┐ржирж╛ржЗржжрж╣, ржкрж╛ржмржирж╛, рж╕рж╛рждржХрзНрж╖рзАрж░рж╛, рж▓рж╛рж▓ржоржирж┐рж░рж╣рж╛ржЯ</option>
                            <option value="6">ржЪрзБрзЯрж╛ржбрж╛ржЩрзНржЧрж╛, ржирж╛ржЯрзЛрж░, ржЬрзЯржкрзБрж░рж╣рж╛ржЯ, ржиржУржЧрж╛ржБ</option>
                            <option value="7">ржорзЗрж╣рзЗрж░ржкрзБрж░, рж░рж╛ржЬрж╢рж╛рж╣рзА, ржирзАрж▓ржлрж╛ржорж╛рж░рзА, ржжрж┐ржирж╛ржЬржкрзБрж░</option>
                            <option value="8">ржкржЮрзНржЪржЧржбрж╝</option>
                            <option value="9">ржЪрж╛ржБржкрж╛ржЗржиржмрж╛ржмржЧржЮрзНржЬ, ржарж╛ржХрзБрж░ржЧрж╛ржБржУ</option>
                            <option value="-1">ржЧрж╛ржЬрзАржкрзБрж░, ржоржпрж╝ржоржирж╕рж┐ржВрж╣, ржЪрж╛ржБржжржкрзБрж░ ржорзБржирзНрж╕рж┐ржЧржЮрзНржЬ, ржирж╛рж░рж╛ржпрж╝ржгржЧржЮрзНржЬ, ржирж░рж╕рж┐ржВржжрзА, ржирзЗрждрзНрж░ржХрзЛржирж╛, ржкрж┐рж░рзЛржЬржкрзБрж░</option>
                            <option value="-2">ржнрзЛрж▓рж╛, рж▓ржХрзНрж╖рзНржорзАржкрзБрж░, ржХрж┐рж╢рзЛрж░ржЧржЮрзНржЬ</option>
                            <option value="-3">ржмрж┐-ржмрж╛ржбрж╝рж┐ржпрж╝рж╛, ржирзЛржпрж╝рж╛ржЦрж╛рж▓рзА</option>
                            <option value="-4">рж╣ржмрж┐ржЧржЮрзНржЬ, ржХрзБржорж┐рж▓рзНрж▓рж╛, рж╕рзБржирж╛ржоржЧржЮрзНржЬ</option>
                            <option value="-5">ржлрзЗржирзА</option>
                            <option value="-6">ржорзМрж▓ржнрзАржмрж╛ржЬрж╛рж░, рж╕рж┐рж▓рзЗржЯ, ржЪржЯрзНржЯржЧрзНрж░рж╛ржо</option>
                            <option value="-7">ржЦрж╛ржЧржбрж╝рж╛ржЫржбрж╝рж┐, ржХржХрзНрж╕ржмрж╛ржЬрж╛рж░</option>
                            <option value="-8">рж░рж╛ржЩрзНржЧрж╛ржорж╛ржЯрж┐, ржмрж╛ржирзНржжрж░ржмрж╛ржи</option>
                        </select>
                    </div>
                    <!-- Dua Section -->
                    <div class="dua-box">
                        <p id="sehriDua">
                            <span class="dua-meaning">рж░рзЛржЬрж╛рж░ ржЖрж░ржмрж┐ ржирж┐рзЯржд: </span><br>
                            <span class="arabic-text">┘Ж┘О┘И┘О┘К┘Т╪к┘П ╪з┘О┘Ж┘Т ╪з┘П╪╡┘П┘И┘Т┘Е┘О ╪║┘О╪п┘Л╪з ┘Е┘С┘Р┘Ж┘Т ╪┤┘О┘З┘Т╪▒┘Р ╪▒┘О┘Е┘Т╪╢┘О╪з┘Ж┘О ╪з┘Д┘Т┘Е┘П╪и┘О╪з╪▒┘О┘Г┘Р ┘Б┘О╪▒┘Т╪╢┘О╪з ┘Д┘О┘Г┘О ┘К┘О╪з ╪з┘Д┘Д┘З┘П ┘Б┘О╪к┘О┘В┘О╪и┘С┘О┘Д ┘Е┘Р┘Ж┘С┘Р┘Й ╪з┘Р┘Ж┘С┘О┘Г┘О ╪з┘О┘Ж┘Т╪к┘О ╪з┘Д╪│┘С┘О┘Е┘Р┘К┘Т╪╣┘П ╪з┘Д┘Т╪╣┘О┘Д┘Р┘К┘Т┘Е</span>
                            <br>
                            <span class="dua-translation">ржирж╛ржУрзЯрж╛ржЗрждрзБ ржЖржи ржЖржЫрзБржорзНржорж╛ ржЧрж╛ржжрж╛ржо, ржорж┐ржи рж╢рж╛рж╣рж░рж┐ рж░ржорж╛ржжрж╛ржирж╛рж▓ ржорзБржмрж╛рж░рж╛ржХ; ржлрж╛рж░ржжрж╛рж▓рзНрж▓рж╛ржХрж╛ ржЗрзЯрж╛ ржЖрж▓рзНрж▓рж╛рж╣рзБ, ржлрж╛рждрж╛ржХрж╛ржмрзНржмрж╛рж▓ ржорж┐ржирзНржирж┐ ржЗржирзНржирж┐ржХрж╛ ржЖржирждрж╛рж╕ рж╕рж╛ржорж┐ржЙрж▓ ржЖтАЩрж▓рж┐ржо</span> <br>
                        </p>
                        
                        <p id="iftarDua">
                            <span class="dua-meaning">ржЗржлрждрж╛рж░рзЗрж░ ржжрзЛрзЯрж╛: </span><br>
                            <span class="arabic-text">╪и╪│┘Е ╪з┘Д┘Д┘З ╪з┘О┘Д┘Д┘С┘О┘З┘П┘Е┘С┘О ┘Д┘О┘Г┘О ╪╡┘П┘Е┘Т╪к┘П ┘И┘О ╪╣┘О┘Д┘О┘Й ╪▒┘Р╪▓┘Т┘В┘Р┘Г┘О ╪з┘О┘Б┘Т╪╖┘О╪▒┘Т╪к┘П</span>
                            <br>
                            <span class="dua-translation">ржЖрж▓рзНрж▓рж╛рж╣рзБржорзНржорж╛ рж▓рж╛ржХрж╛ ржЫрзБржорждрзБ ржУрзЯрж╛ ржЖрж▓рж╛ рж░рж┐ржпржХрзНржмрж┐ржХрж╛ ржУрзЯрж╛ ржЖржлрждрж╛рж░рждрзБ ржмрж┐рж░рж╛рж╣ржорж╛рждрж┐ржХрж╛ ржЗрзЯрж╛ ржЖрж░рж╣рж╛ржорж╛рж░ рж░рж╛рж╣рж┐ржорж┐ржи</span>
                        </p>
                    </div>
                </div>
                <div class="col-6" style="
                height: 434px;
                align-content: center;">
                    <!-- Countdown Section -->
                    <div class="countdown-box">
                        <p id="sehriCountdown">Sehri Countdown: --:--:--</p>
                        <p id="iftarCountdown">Iftar Countdown: --:--:--</p>
                    </div>
                    <!-- Today's Sehri & Iftar -->
                    <div class="today-times">
                        <h3 style="color: white;">Today's Sehri & Iftar</h3>
                        <div class="row">
                            <div class="col-6">
                                <div class="date-info">
                                    <p id="todayDate">ЁЯУЕ Today: --</p>
                                    <p id="ramadanDay">ЁЯХМ Ramadan Day: --</p>
                                </div>
                            </div>
                            <div class="col-6">
                                <div class="time-info">
                                    <p id="sehriTime">ЁЯМЩ Sehri: --:-- AM</p>
                                    <p id="iftarTime">ЁЯМЕ Iftar: --:-- PM</p>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <h2 id="calendarHeading">Ramadan Calendar (2025) - <span id="selectedCity" style="color: #07ff03;">Dhaka</span></h2>

            <div class="row" style="margin: 0px 20px 0px 20px;">
                <!-- Rahmah Phase -->
                <div class="col-md-4">
                    <div class="rahmah-phase decorative-border">
                        <div class="minar-top">
                            <i class="fas fa-mosque"></i>
                        </div>
                        <h3>Rahmah (Mercy) - Days 1-10</h3>
                        <table class="table table-bordered table-striped">
                            <thead>
                                <tr>
                                    <th>Day</th>
                                    <th>Date</th>
                                    <th>Day of Week</th>
                                    <th>Sehri (AM)</th>
                                    <th>Iftar (PM)</th>
                                </tr>
                            </thead>
                            <tbody id="rahmahBody"></tbody>
                        </table>
                    </div>
                </div>
                
                <!-- Maghfirah Phase -->
                <div class="col-md-4">
                    <div class="maghfirah-phase decorative-border">
                        <div class="minar-top">
                            <i class="fas fa-mosque"></i>
                        </div>
                        <h3>Maghfirah (Forgiveness) - Days 11-20</h3>
                        <table class="table table-bordered table-striped">
                            <thead>
                                <tr>
                                    <th>Day</th>
                                    <th>Date</th>
                                    <th>Day of Week</th>
                                    <th>Sehri (AM)</th>
                                    <th>Iftar (PM)</th>
                                </tr>
                            </thead>
                            <tbody id="maghfirahBody"></tbody>
                        </table>
                    </div>
                </div>
                
                <!-- Najah Phase -->
                <div class="col-md-4">
                    <div class="najah-phase decorative-border">
                        <div class="minar-top">
                            <i class="fas fa-mosque"></i>
                        </div>
                        <h3>Najah (Salvation) - Days 21-30</h3>
                        <table class="table table-bordered table-striped">
                            <thead>
                                <tr>
                                    <th>Day</th>
                                    <th>Date</th>
                                    <th>Day of Week</th>
                                    <th>Sehri (AM)</th>
                                    <th>Iftar (PM)</th>
                                </tr>
                            </thead>
                            <tbody id="najahBody"></tbody>
                        </table>
                    </div>
                </div>
            </div>
            
            <button id="downloadPDF" class="btn btn-custom">
                <i class="fas fa-download"></i> Download Ramadan Calendar
            </button>
            

        </div>
    </div>
    <footer>
        <p>Designed and Developed by Md Khorshed Alom</p>
        <p><a href="https://khorshed31.github.io/about_me/" target="_blank">Visit Here</a></p>
    </footer>

    <!-- Bootstrap JS and dependencies -->
<script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.6/dist/umd/popper.min.js" integrity="sha384-oBqDVmMz4fnFO9gybPz2Y09gFT4wE0iD6k7Ff5Dle6vDlYjeYP1dA0kxfz5FJN4w" crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/js/bootstrap.min.js" integrity="sha384-pzjw8f+ua7Kw1TIq0D6cuD7Pj5+NjfwiZ1b9zA+DQxHfFn2gNYuqGh8wzMnBxgd9" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf-autotable/3.5.27/jspdf.plugin.autotable.min.js"></script>


<script>
    const ramadanStart = new Date(2025, 2, 2);
    const dhakaTimings = [
        ["05:04", "06:02"], ["05:03", "06:03"], ["05:02", "06:03"],
        ["05:01", "06:04"], ["05:00", "06:04"], ["04:59", "06:05"],
        ["04:58", "06:05"], ["04:57", "06:06"], ["04:56", "06:06"],
        ["04:55", "06:06"], ["04:54", "06:07"], ["04:53", "06:07"],
        ["04:52", "06:08"], ["04:51", "06:08"], ["04:50", "06:08"],
        ["04:49", "06:09"], ["04:48", "06:09"], ["04:47", "06:10"],
        ["04:46", "06:10"], ["04:45", "06:10"], ["04:44", "06:11"],
        ["04:43", "06:11"], ["04:42", "06:11"], ["04:41", "06:12"],
        ["04:40", "06:12"], ["04:39", "06:13"], ["04:38", "06:13"],
        ["04:36", "06:14"], ["04:35", "06:14"], ["04:34", "06:15"]
    ];

    // Adjust timings based on the district value
    function adjustTime(time, adjustment) {
        let [hours, minutes] = time.split(":").map(Number);
        minutes += adjustment;
        if (minutes >= 60) { hours += 1; minutes -= 60; }
        if (minutes < 0) { hours -= 1; minutes += 60; }
        return `${String(hours).padStart(2, '0')}:${String(minutes).padStart(2, '0')}`;
    }

    // Update all timings based on the selected district
    function updateTimes() {
        let districtValue = parseInt(document.getElementById("district").value);
        let selectedCityText = document.getElementById("selectedCity");

        let rahmahBody = document.getElementById("rahmahBody");
        let maghfirahBody = document.getElementById("maghfirahBody");
        let najahBody = document.getElementById("najahBody");
    
            const cityNames = {
                "0": "ржврж╛ржХрж╛",
                "1": "ржорж╛ржжрж╛рж░рзАржкрзБрж░, ржмрж░рж┐рж╢рж╛рж▓, рж╢рж░рзАржпрж╝рждржкрзБрж░, ржЯрж╛ржЩрзНржЧрж╛ржЗрж▓, ржЬрж╛ржорж╛рж▓ржкрзБрж░, ржХрзБржбрж╝рж┐ржЧрзНрж░рж╛ржо, ржорж╛ржирж┐ржХржЧржЮрзНржЬ",
                "2": "ржлрж░рж┐ржжржкрзБрж░, ржЭрж╛рж▓ржХрж╛ржарж┐, рж╕рж┐рж░рж╛ржЬржЧржЮрзНржЬ, ржкржЯрзБржпрж╝рж╛ржЦрж╛рж▓рзА, рж╢рзЗрж░ржкрзБрж░, ржмрж╛ржЧрзЗрж░рж╣рж╛ржЯ",
                "3": "ржкрж┐рж░рзЛржЬржкрзБрж░, ржмржЧрзБржбрж╝рж╛, ржЧрзЛржкрж╛рж▓ржЧржЮрзНржЬ, ржмрж░ржЧрзБржирж╛, ржЦрзБрж▓ржирж╛, ржиржбрж╝рж╛ржЗрж▓, ржЧрж╛ржЗржмрж╛ржирзНржзрж╛",
                "4": "ржорж╛ржЧрзБрж░рж╛, рж░рж╛ржЬржмрж╛ржбрж╝рзА, рж░ржВржкрзБрж░, ржмржЧрзБржбрж╝рж╛, ржХрзБржбрж╝рж┐ржЧрзНрж░рж╛ржо",
                "5": "ржХрзБрж╖рзНржЯрж┐ржпрж╝рж╛, ржпрж╢рзЛрж░, ржЭрж┐ржирж╛ржЗржжрж╣, ржкрж╛ржмржирж╛, рж╕рж╛рждржХрзНрж╖рзАрж░рж╛, рж▓рж╛рж▓ржоржирж┐рж░рж╣рж╛ржЯ",
                "6": "ржЪрзБржпрж╝рж╛ржбрж╛ржЩрзНржЧрж╛, ржирж╛ржЯрзЛрж░, ржЬржпрж╝ржкрзБрж░рж╣рж╛ржЯ, ржиржУржЧрж╛ржБ",
                "7": "ржорзЗрж╣рзЗрж░ржкрзБрж░, рж░рж╛ржЬрж╢рж╛рж╣рзА, ржирзАрж▓ржлрж╛ржорж╛рж░рзА, ржжрж┐ржирж╛ржЬржкрзБрж░",
                "8": "ржкржЮрзНржЪржЧржбрж╝",
                "9": "ржЪрж╛ржБржкрж╛ржЗржиржмрж╛ржмржЧржЮрзНржЬ, ржарж╛ржХрзБрж░ржЧрж╛ржБржУ",
                "-1": "ржЧрж╛ржЬрзАржкрзБрж░, ржоржпрж╝ржоржирж╕рж┐ржВрж╣, ржЪрж╛ржБржжржкрзБрж░, ржорзБржирзНрж╕рж┐ржЧржЮрзНржЬ, ржирж╛рж░рж╛ржпрж╝ржгржЧржЮрзНржЬ, ржирж░рж╕рж┐ржВржжрзА, ржирзЗрждрзНрж░ржХрзЛржирж╛, ржкрж┐рж░рзЛржЬржкрзБрж░",
                "-2": "ржнрзЛрж▓рж╛, рж▓ржХрзНрж╖рзНржорзАржкрзБрж░, ржХрж┐рж╢рзЛрж░ржЧржЮрзНржЬ",
                "-3": "ржмрзНрж░рж╛рж╣рзНржоржгржмрж╛ржбрж╝рж┐ржпрж╝рж╛, ржирзЛржпрж╝рж╛ржЦрж╛рж▓рзА",
                "-4": "рж╣ржмрж┐ржЧржЮрзНржЬ, ржХрзБржорж┐рж▓рзНрж▓рж╛, рж╕рзБржирж╛ржоржЧржЮрзНржЬ",
                "-5": "ржлрзЗржирзА",
                "-6": "ржорзМрж▓ржнрзАржмрж╛ржЬрж╛рж░, рж╕рж┐рж▓рзЗржЯ, ржЪржЯрзНржЯржЧрзНрж░рж╛ржо",
                "-7": "ржЦрж╛ржЧржбрж╝рж╛ржЫржбрж╝рж┐, ржХржХрзНрж╕ржмрж╛ржЬрж╛рж░",
                "-8": "рж░рж╛ржЩрзНржЧрж╛ржорж╛ржЯрж┐, ржмрж╛ржирзНржжрж░ржмрж╛ржи"
            };
    
            // Update selected city text
        selectedCityText.textContent = cityNames[districtValue] || "Unknown";

        // Reset tables
        rahmahBody.innerHTML = "";
        maghfirahBody.innerHTML = "";
        najahBody.innerHTML = "";

        const days = ["Sunday", "Monday", "Tuesday", "Wednesday", "Thursday", "Friday", "Saturday"];

        let today = new Date();
        let ramadanStartDate = new Date(2025, 2, 2); // Ramadan starts on March 2, 2025
        let dayIndex = Math.floor((today - ramadanStartDate) / (1000 * 60 * 60 * 24));

        for (let i = 0; i < dhakaTimings.length; i++) {
            let date = new Date(2025, 2, i + 2);
            let dayOfWeek = days[date.getDay()];
            let sehri = adjustTime(dhakaTimings[i][0], districtValue);
            let iftar = adjustTime(dhakaTimings[i][1], districtValue);

            let isToday = (dayIndex === i);

            let rowHTML = `<tr class="${isToday ? 'highlight-today' : ''}">
                <td>${i + 1}</td>
                <td>${date.getDate()} March</td>
                <td>${dayOfWeek}</td>
                <td>${sehri}</td>
                <td>${iftar}</td>
            </tr>`;

            if (i < 10) {
                rahmahBody.innerHTML += rowHTML;
            } else if (i >= 10 && i < 20) {
                maghfirahBody.innerHTML += rowHTML;
            } else {
                najahBody.innerHTML += rowHTML;
            }
        }

        let sehriTime = document.getElementById("sehriTime");
        let iftarTime = document.getElementById("iftarTime");
        
        if (dayIndex >= 0 && dayIndex < dhakaTimings.length) {
            let sehriTime = adjustTime(dhakaTimings[dayIndex][0], districtValue); // Example: "5:04"
            let iftarTime = adjustTime(dhakaTimings[dayIndex][1], districtValue); // Example: "6:02"
    
            document.getElementById("sehriTime").textContent = `ЁЯМЩ Sehri: ${sehriTime} AM`;
            document.getElementById("iftarTime").textContent = `ЁЯМЕ Iftar: ${iftarTime} PM`;
    
            startCountdown("sehriCountdown", sehriTime, false); // AM = false
            startCountdown("iftarCountdown", iftarTime, true);  // PM = true
        } else {
            document.getElementById("sehriTime").textContent = "ЁЯМЩ Sehri: --:-- AM";
            document.getElementById("iftarTime").textContent = "ЁЯМЕ Iftar: --:-- PM";
        }
    }

    function updateTodayInfo() {
        let today = new Date();
        let ramadanStart = new Date(2025, 2, 2); // March 2, 2025
        let dayDiff = Math.floor((today - ramadanStart) / (1000 * 60 * 60 * 24)) + 1;
    
        // Format today's date
        let options = { weekday: 'long', year: 'numeric', month: 'long', day: 'numeric' };
        let formattedDate = today.toLocaleDateString('en-US', options);
    
        // Update HTML
        document.getElementById("todayDate").textContent = `ЁЯУЕ Today: ${formattedDate}`;
        document.getElementById("ramadanDay").textContent = (dayDiff >= 1 && dayDiff <= 30) 
            ? `ЁЯХМ Ramadan Day: ${dayDiff}` 
            : `ЁЯХМ Ramadan Not Started / Ended`;
    }

    let sehriInterval, iftarInterval; // Store interval IDs

    // Function to start countdown and display "Time is Over" if time is passed
    function startCountdown(targetId, targetTime, isPM = false) {
        function updateCountdown() {
            let now = new Date();
            let [hours, minutes] = targetTime.split(":").map(Number);

            // Convert 12-hour format to 24-hour format
            if (isPM && hours !== 12) {
                hours += 12;
            } else if (!isPM && hours === 12) {
                hours = 0;
            }

            let target = new Date(now.getFullYear(), now.getMonth(), now.getDate(), hours, minutes, 0);
            
            // Check if the target time is already passed
            if (now >= target) {
                // If the time is passed, show "Time is Over"
                let countdownElement = document.getElementById(targetId);
                if (countdownElement) {
                    let label = targetId === "sehriCountdown" ? "ЁЯМЩ Sehri Countdown:" : "ЁЯМЕ Iftar Countdown:";
                    countdownElement.textContent = `${label} Time is Over`;
                }
                return;
            }

            let diff = target - now;
            let remainingHours = Math.floor(diff / (1000 * 60 * 60));
            let remainingMinutes = Math.floor((diff % (1000 * 60 * 60)) / (1000 * 60));
            let remainingSeconds = Math.floor((diff % (1000 * 60)) / 1000);

            let countdownElement = document.getElementById(targetId);
            if (countdownElement) {
                let label = targetId === "sehriCountdown" ? "ЁЯМЩ Sehri Countdown:" : "ЁЯМЕ Iftar Countdown:";
                countdownElement.textContent = `${label} ${remainingHours}h ${remainingMinutes}m ${remainingSeconds}s`;
            }
        }

        // Clear previous interval before starting a new one
        if (targetId === "sehriCountdown") {
            clearInterval(sehriInterval);
            sehriInterval = setInterval(updateCountdown, 1000);
        } else {
            clearInterval(iftarInterval);
            iftarInterval = setInterval(updateCountdown, 1000);
        }

        updateCountdown(); // Initial call
    }

    // Function to update Sehri & Iftar times when district is changed
    function updateDistrictTimings(sehriTime, iftarTime) {
        startCountdown("sehriCountdown", sehriTime, false); // Sehri is always AM
        startCountdown("iftarCountdown", iftarTime, true); // Iftar is always PM
    }

    // Function to update today's countdowns when the day changes
    function updateTodayCountdown() {
        let today = new Date();
        let ramadanStart = new Date(2025, 2, 2); // March 2, 2025
        let dayDiff = Math.floor((today - ramadanStart) / (1000 * 60 * 60 * 24)) + 1;

        let districtValue = parseInt(document.getElementById("district").value);
        let ramadanStartDate = new Date(2025, 2, 2);
        let dayIndex = Math.floor((today - ramadanStartDate) / (1000 * 60 * 60 * 24));
        let sehriTime1 = adjustTime(dhakaTimings[dayIndex][0], districtValue); // Example: "5:04"
        let iftarTime1 = adjustTime(dhakaTimings[dayIndex][1], districtValue); // Example: "6:02"

        if (dayDiff >= 1 && dayDiff <= 30) {
            // Only update countdowns for valid Ramadan days
            updateDistrictTimings(sehriTime1, iftarTime1);
        } else {
            // If it's not Ramadan, show "Ramadan is not active" message
            document.getElementById("sehriCountdown").textContent = "ЁЯМЩ Sehri Countdown: Ramadan Not Active";
            document.getElementById("iftarCountdown").textContent = "ЁЯМЕ Iftar Countdown: Ramadan Not Active";
        }
    }

    // Function to request notification permission
    function requestNotificationPermission() {
        if ("Notification" in window) {
            Notification.requestPermission().then((permission) => {
                if (permission === "granted") {
                    console.log("Notification permission granted.");
                }
            });
        }
    }

    // Function to show notifications
    function showNotification(title, message) {
        if (Notification.permission === "granted") {
            new Notification(title, {
                body: message,
                icon: "https://cdn-icons-png.flaticon.com/512/2913/2913206.png" // Replace with your icon
            });
        }
    }

    // Function to schedule notifications
    function scheduleNotifications(sehriTime, iftarTime) {
        function scheduleSingleNotification(targetTime, label) {
            let [hours, minutes] = targetTime.split(":").map(Number);
            let now = new Date();
            let target = new Date(now.getFullYear(), now.getMonth(), now.getDate(), hours, minutes, 0);

            // Define times to send notifications (20, 10, 5 minutes before and exactly at time)
            const timeOffsets = [20, 10, 5];

            timeOffsets.forEach((offset) => {
                let notificationTime = new Date(target.getTime() - offset * 60 * 1000);
                let timeDifference = notificationTime - now;

                if (timeDifference > 0) {
                    setTimeout(() => {
                        showNotification(label, `${offset} minutes left for ${label}!`);
                    }, timeDifference);
                }
            });
            // Notify when the time is exactly over
            let timeDifferenceZero = target - now;
            if (timeDifferenceZero > 0) {
                setTimeout(() => {
                    showNotification(label, `${label} Time is Over!`);
                }, timeDifferenceZero);
            }
        }

        // Schedule notifications for Sehri and Iftar
        scheduleSingleNotification(sehriTime, "Sehri");
        scheduleSingleNotification(iftarTime, "Iftar");
    }

    // Modify updateTodayCountdown to include notifications
    function updateTodayCountdown() {
        let today = new Date();
        let ramadanStart = new Date(2025, 2, 2); // March 2, 2025
        let dayDiff = Math.floor((today - ramadanStart) / (1000 * 60 * 60 * 24)) + 1;

        let districtValue = parseInt(document.getElementById("district").value);
        let ramadanStartDate = new Date(2025, 2, 2);
        let dayIndex = Math.floor((today - ramadanStartDate) / (1000 * 60 * 60 * 24));

        if (dayIndex >= 0 && dayIndex < dhakaTimings.length) {
            let sehriTime = adjustTime(dhakaTimings[dayIndex][0], districtValue);
            let iftarTime = adjustTime(dhakaTimings[dayIndex][1], districtValue);

            updateDistrictTimings(sehriTime, iftarTime);
            scheduleNotifications(sehriTime, iftarTime); // Schedule notifications
        } else {
            document.getElementById("sehriCountdown").textContent = "ЁЯМЩ Sehri Countdown: Ramadan Not Active";
            document.getElementById("iftarCountdown").textContent = "ЁЯМЕ Iftar Countdown: Ramadan Not Active";
        }
    }

    // Request permission on page load
    window.onload = function () {
        requestNotificationPermission();
        updateTodayInfo();
        updateTimes();
        updateTodayCountdown();
    };
    
</script>

<script src="pdf.js"></script>
</body>
</html>
